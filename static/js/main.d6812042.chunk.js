(this.webpackJsonpmnist_app=this.webpackJsonpmnist_app||[]).push([[0],{295:function(t,e,n){},306:function(t,e){},307:function(t,e){},315:function(t,e){},325:function(t,e){},326:function(t,e){},327:function(t,e){},335:function(t,e){},340:function(t,e,n){"use strict";n.r(e);n(295);var r,a,c,i,o,s,u,d,l,j=n(18),b=n.n(j),f=n(98),m=n.n(f),x=n(54),p=n(82),O=n(83),h=n(290),v=n(362),g=n(361),y=n(4),k=n(20),w=Object(x.b)({key:"state/context",default:null}),N=Object(x.b)({key:"state/score",default:Object(k.a)(Array(10)).map((function(t){return 0}))}),C=Object(x.b)({key:"state/inputimagedata",default:null}),E=n(39),L=function(){var t=Object(j.useRef)(null),e=Object(x.c)(w),n=Object(y.a)(e,2),r=n[0],a=n[1];return Object(j.useEffect)((function(){var e=!1,n={x:0,y:0},c={x:0,y:0};function i(r){e=!0;var a=t.current?t.current.offsetLeft:0,i=t.current?t.current.offsetTop:0;n={x:r.clientX-a,y:r.clientY-i},c={x:r.clientX-a,y:r.clientY-i}}function o(t){e=!1}function s(a){if(e&&r){var i=t.current?t.current.offsetLeft:0,o=t.current?t.current.offsetTop:0;n={x:c.x,y:c.y},c={x:a.clientX-i,y:a.clientY-o},r.beginPath(),r.moveTo(n.x,n.y),r.lineTo(c.x,c.y),r.strokeStyle="white",r.lineWidth=25,r.lineCap="round",r.stroke(),r.closePath()}}if(t.current){var u=t.current.getContext("2d");u&&(t.current.addEventListener("mousedown",i),t.current.addEventListener("mouseup",o),t.current.addEventListener("mousemove",s),a(u))}return function(){t.current&&(t.current.removeEventListener("mousedown",i),t.current.removeEventListener("mouseup",o),t.current.removeEventListener("mousemove",s))}}),[r]),Object(E.jsx)("canvas",{ref:t,className:P,width:300,height:300})},P=Object(O.a)(r||(r=Object(p.a)(["\n\tbackground-color: black;\n"]))),A=function(){var t=Object(x.d)(C),e=Object(j.useRef)(null);return Object(j.useEffect)((function(){if(e.current){var n=e.current.getContext("2d");t?n.putImageData(t,0,0):n.clearRect(0,0,28,28)}}),[t]),Object(E.jsx)("canvas",{ref:e,style:{backgroundColor:"black"},width:28,height:28})},T=n(5),D=n.n(T),F=n(11),I=n(356),S=n(165),B=function(){var t=Object(j.useState)(),e=Object(y.a)(t,2),n=e[0],r=e[1],a=Object(x.d)(w),c=Object(x.f)(N),i=Object(x.f)(C);Object(j.useEffect)((function(){(function(){var t=Object(F.a)(D.a.mark((function t(){var e;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.b("./assets/cnn/model.json");case 3:e=t.sent,r(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error({error:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var o=function(){if(a){var t=document.createElement("canvas").getContext("2d");t.drawImage(a.canvas,0,0,28,28);for(var e=t.getImageData(0,0,28,28),n=0;n<e.data.length;n+=4){var r=(e.data[n]+e.data[n+1]+e.data[n+2])/3;e.data[n]=e.data[n+1]=e.data[n+2]=r}return e}},s=function(t){if(n){var e=S.d((function(){var e=S.a.fromPixels(t,1).toFloat();return e=(e=e.div(S.c(255))).expandDims(),n.predict(e)})),r=[];return(Array.isArray(e)?e[0].dataSync():e.dataSync()).forEach((function(t){return r.push(t)})),r}},u=function(){var t=Object(F.a)(D.a.mark((function t(){var e,n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o()){t.next=3;break}return t.abrupt("return");case 3:if(i(e),n=s(e)){t.next=7;break}return t.abrupt("return");case 7:c(n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsx)(I.a,{variant:"contained",color:"primary",onClick:u,children:"Predict"})},R=n(358),M=n(363),W=n(364),Y=n(359),z=n(360),H=n(365),X=function(){var t=G(),e=Object(x.d)(N),n=Object(k.a)(Array(10));return Object(E.jsx)("div",{className:J,children:Object(E.jsx)(R.a,{className:t.list,children:e.map((function(e,r){return Object(E.jsxs)("div",{children:[Object(E.jsxs)(M.a,{className:t.item,children:[Object(E.jsx)(W.a,{className:t.itemNum,primary:r}),Object(E.jsxs)("div",{className:_,children:[Object(E.jsx)("div",{className:q(100*e)}),Object(E.jsx)(W.a,{className:t.itemPer,primary:(100*e).toFixed(2)+" %"})]})]}),n.length>r+1&&Object(E.jsx)(Y.a,{})]},r)}))})})},G=Object(z.a)((function(t){return Object(H.a)({list:{width:"100%",backgroundColor:t.palette.background.paper,padding:0},item:{display:"grid",gridTemplateColumns:"auto 1fr",padding:0},itemNum:{padding:"0 20px",textAlign:"center",color:t.palette.text.primary},itemPer:{textAlign:"left",zIndex:2,color:t.palette.text.primary}})})),J=Object(O.a)(a||(a=Object(p.a)(["\n\tmax-width: 300px;\n\t/* border: 1px solid black; */\n"]))),_=Object(O.a)(c||(c=Object(p.a)(["\n\tposition: relative;\n"]))),q=function(t){return Object(O.a)(i||(i=Object(p.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbackground-color: rgba(0, 255, 0, 0.2);\n\twidth: ","%;\n\theight: 100%;\n\tz-index: 1;\n"])),t)},V=function(){var t=Object(x.d)(w),e=Object(x.e)(N),n=Object(x.e)(C);return Object(E.jsx)(I.a,{variant:"contained",color:"secondary",onClick:function(){t&&t.clearRect(0,0,t.canvas.width,t.canvas.height),e(),n()},children:"Reset"})},$=function(){return Object(E.jsxs)(g.a,{container:!0,spacing:1,children:[Object(E.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(E.jsxs)("div",{className:K,children:[Object(E.jsx)(L,{}),Object(E.jsxs)("div",{className:Q,children:[Object(E.jsx)(B,{}),Object(E.jsx)(V,{}),Object(E.jsx)(A,{})]})]})}),Object(E.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)("div",{className:U,children:Object(E.jsx)(X,{})})})]})},K=Object(O.a)(o||(o=Object(p.a)(["\n\twidth: 300px;\n\tmargin: auto;\n"]))),Q=Object(O.a)(s||(s=Object(p.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr auto;\n\talign-items: center;\n\tgrid-gap: 10px;\n"]))),U=Object(O.a)(u||(u=Object(p.a)(["\n\twidth: 300px;\n\tmargin: auto;\n"]))),Z=function(){var t=Object(h.a)({palette:{type:"dark"}});return Object(E.jsx)(v.a,{theme:t,children:Object(E.jsx)("div",{className:et,children:Object(E.jsx)("div",{className:tt,children:Object(E.jsx)($,{})})})})},tt=Object(O.a)(d||(d=Object(p.a)(["\n\twidth: 620px;\n\tpadding: 20px;\n\tmargin: 20px;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tborder-radius: 10px;\n"]))),et=Object(O.a)(l||(l=Object(p.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\tbackground-image: url('https://images.unsplash.com/photo-1573220322218-a350fe275a24?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1188&q=80');\n\tbackground-size: cover;\n\tbackground-position: center;\n"]))),nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,366)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(Object(E.jsx)(b.a.StrictMode,{children:Object(E.jsx)(x.a,{children:Object(E.jsx)(Z,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),nt()}},[[340,1,2]]]);
//# sourceMappingURL=main.d6812042.chunk.js.map